<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Encuesta para Diana</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(#f7f7fb, #eef1ff);
  text-align: center;
  padding: 40px;
}

#card {
  background: white;
  max-width: 520px;
  margin: auto;
  padding: 35px;
  border-radius: 16px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
  animation: fade .5s ease;
}

@keyframes fade {
  from { opacity:0; transform:translateY(10px); }
  to { opacity:1; transform:translateY(0); }
}

button {
  padding: 12px 22px;
  font-size: 16px;
  margin: 10px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
}

.yes { background:#6c8cff; color:white; }
.no  { background:#e0e0e0; }

p { color:#555; font-size:18px; }
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/audio/2022/10/30/audio_3c7a33c6f2.mp3">
</audio>

<div id="card">
  <h1>Encuesta para Diana</h1>
  <p>(A√∫n no te he preguntado por tus apellidos)</p>
  <button class="yes" onclick="start()">Empezar</button>
</div>

<script>
let step = 0;
let phase = 0;

const flow = [
  { type:"diana" },
  { type:"gender" },

  { type:"animal", q:"¬øSab√≠as que hay ranas que pueden congelarse y volver a la vida?",
    fact:"A veces detenerse tambi√©n es una forma de sobrevivir üê∏" },

  { type:"animal", q:"¬øSab√≠as que las abejas se comunican bailando?",
    fact:"Incluso los movimientos peque√±os pueden decir mucho üêù" },

  { type:"animal", q:"¬øSab√≠as que los pulpos regeneran sus brazos?",
    fact:"Perder algo no significa no poder volver a crecer üêô" },

  { type:"animal", q:"¬øSab√≠as que el ajolote regenera coraz√≥n y cerebro?",
    fact:"Sanar tambi√©n puede ser un proceso natural üê∏" },

  { type:"final", q:"¬øEres consciente de que vales much√≠simo?",
    fact:"A veces solo hace falta que alguien lo recuerde ‚ú®" },

  { type:"final", q:"¬øTe das permiso de seguir adelante a tu ritmo?",
    fact:"Sin prisa, sin presi√≥n üíô" }
];

function start(){
  const m=document.getElementById("bgMusic");
  m.volume=0.25; m.play().catch(()=>{});
  step=0; phase=0;
  render();
}

function render(){
  const card=document.getElementById("card");
  const q=flow[step];
  card.innerHTML="";

  if(q.type==="diana") return diana(card);
  if(q.type==="gender") return gender(card);
  if(q.type==="animal") return animal(card,q);
  if(q.type==="final") return finalQ(card,q);
}

function diana(card){
  if(phase===0){
    card.innerHTML=`
      <h2>¬øTu nombre es Diana?</h2>
      <button class="yes" onclick="next()">S√≠</button>
      <button class="no" onclick="phase=1;render()">No</button>`;
  } else {
    card.innerHTML=`
      <h2>¬øEst√°s segura?</h2>
      <button class="yes" onclick="next()">Me equivoqu√©, s√≠ soy Diana</button>
      <button class="no" onclick="onlyYes('Es imposible que no seas Diana üòå')">S√≠, no soy Diana</button>`;
  }
}

function gender(card){
  if(phase===0){
    card.innerHTML=`
      <h2>¬øEres chica?</h2>
      <button class="yes" onclick="next()">S√≠</button>
      <button class="no" onclick="phase=1;render()">No</button>`;
  } else {
    card.innerHTML=`
      <h2>ü§®</h2>
      <button class="yes" onclick="next()">Est√° bien‚Ä¶ s√≠ soy una chica</button>
      <button class="no" onclick="onlyYes('Me atrapaste üòÖ')">Te digo que soy chico</button>`;
  }
}

function animal(card,q){
  if(phase===0){
    card.innerHTML=`
      <h2>${q.q}</h2>
      <button class="yes" onclick="showFact(q)">S√≠</button>
      <button class="no" onclick="phase=1;render()">No</button>`;
  } else {
    card.innerHTML=`
      <h2>¬øQuieres aprender un poco?</h2>
      <button class="yes" onclick="showFact(q)">S√≠</button>
      <button class="no" onclick="onlyYes('Creo que s√≠ quieres üòä')">No</button>`;
  }
}

function finalQ(card,q){
  card.innerHTML=`
    <h2>${q.q}</h2>
    <button class="yes" onclick="showFact(q)">S√≠</button>`;
}

function showFact(q){
  const card=document.getElementById("card");
  card.innerHTML=`<p>${q.fact}</p>`;
  setTimeout(next,3500);
}

function onlyYes(text){
  const card=document.getElementById("card");
  card.innerHTML=`
    <p>${text}</p>
    <button class="yes" onclick="next()">Continuar</button>`;
}

function next(){
  step++; phase=0;
  if(step<flow.length) render();
  else end();
}

function end(){
  document.getElementById("card").innerHTML=`
    <h2>Gracias por responder üê∏</h2>
    <p>Encuesta realizada por el <strong>Equipo de Investigaci√≥n de Ranas</strong></p>
    <p>(porque son mi animal favorito)</p>
    <p>Eres valiosa y mereces cosas bonitas üíô</p>`;
}
</script>

</body>
</html>
