<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Encuesta para Diana</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:linear-gradient(#f7f7fb,#eef1ff);
  text-align:center;
  padding:40px;
}

#card{
  background:white;
  max-width:520px;
  margin:auto;
  padding:35px;
  border-radius:16px;
  box-shadow:0 12px 30px rgba(0,0,0,.12);
  animation:fade .5s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

button{
  padding:12px 22px;
  font-size:16px;
  margin:10px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  transition:all .3s ease;
}

.yes{background:#6c8cff;color:white}
.no{background:#e0e0e0;position:relative}

p{color:#555;font-size:18px}
</style>
</head>

<body>

<audio id="bgMusic" loop>
<source src="https://cdn.pixabay.com/audio/2022/10/30/audio_3c7a33c6f2.mp3">
</audio>

<div id="card">
<h1>Encuesta para Diana</h1>
<p>(AÃºn no te he preguntado por tus apellidos)</p>
<button class="yes" onclick="start()">Empezar</button>
</div>

<script>
let step=0, phase=0, noCount=0;

const flow=[
"diana","gender",
"animal1","animal2","animal3","animal4",
"worth1","worth2","worth3","worth4","worth5",
"serendipia","end"
];

function start(){
  const m=document.getElementById("bgMusic");
  m.volume=.25;
  m.play().catch(()=>{});
  step=0;phase=0;noCount=0;
  render();
}

function render(){
  const c=document.getElementById("card");
  c.innerHTML="";
  switch(flow[step]){
    case"diana":diana(c);break;
    case"gender":gender(c);break;
    case"animal1":animal(c,"Â¿SabÃ­as que hay ranas que pueden congelarse y volver a la vida?","A veces detenerse tambiÃ©n es una forma de sobrevivir ğŸ¸");break;
    case"animal2":animal(c,"Â¿SabÃ­as que las abejas se comunican bailando?","Incluso los movimientos pequeÃ±os pueden decir mucho ğŸ");break;
    case"animal3":animal(c,"Â¿SabÃ­as que los pulpos regeneran sus brazos?","Perder algo no significa no poder volver a crecer ğŸ™");break;
    case"animal4":animal(c,"Â¿SabÃ­as que el ajolote puede regenerar Ã³rganos vitales?","Sanar tambiÃ©n puede ser parte de tu naturaleza ğŸ¸");break;
    case"worth1":worth(c,"Â¿Eres consciente de que vales muchÃ­simo?","A veces uno olvida lo evidente âœ¨");break;
    case"worth2":worth(c,"Â¿Sabes que has logrado mucho por ti misma?","No todo logro hace ruido, pero cuenta ğŸ’™");break;
    case"worth3":worth(c,"Â¿Sabes que puedes con esto y con mucho mÃ¡s?","Incluso si ahora no lo sientes");break;
    case"worth4":worth(c,"Â¿Sabes que no tienes que tener todo resuelto ahora?","La vida no es una carrera");break;
    case"worth5":worth(c,"Â¿Te das permiso de avanzar a tu ritmo?","Ese permiso tambiÃ©n es valentÃ­a");break;
    case"serendipia":serendipia(c);break;
    case"end":end();break;
  }
}

/* ---------- DIANA ---------- */
function diana(c){
  if(!phase){
    c.innerHTML=`<h2>Â¿Tu nombre es Diana?</h2>
    <button class="yes" onclick="next()">SÃ­</button>
    <button class="no" onclick="phase=1;render()">No</button>`;
  }else{
    c.innerHTML=`<h2>Â¿EstÃ¡s segura?</h2>
    <button class="yes" onclick="next()">Me equivoquÃ©, sÃ­ soy Diana</button>
    <button class="no" onclick="onlyYes('Es imposible que no seas Diana ğŸ˜Œ')">SÃ­, no soy Diana</button>`;
  }
}

/* ---------- GÃ‰NERO ---------- */
function gender(c){
  if(!phase){
    c.innerHTML=`<h2>Â¿Eres chica?</h2>
    <button class="yes" onclick="next()">SÃ­</button>
    <button class="no" onclick="phase=1;render()">No</button>`;
  }else if(phase===1){
    c.innerHTML=`<h2>Mmmâ€¦ lo dudo ğŸ¤¨</h2>
    <button class="yes" onclick="next()">EstÃ¡ bien, sÃ­ soy una chica</button>
    <button class="no" onclick="phase=2;render()">Te digo que soy chico</button>`;
  }else{
    c.innerHTML=`<h2>AjÃ¡â€¦ ğŸ˜</h2>
    <button class="yes" onclick="next()">Me atrapaste, sÃ­ soy una chica</button>`;
  }
}

/* ---------- ANIMALES ---------- */
function animal(c,q,f){
  if(!phase){
    c.innerHTML=`<h2>${q}</h2>
    <button class="yes" onclick="animalYes('${f}')">SÃ­</button>
    <button class="no" onclick="phase=1;render()">No</button>`;
  }else{
    c.innerHTML=`<h2>Â¿Seguro que no quieres aprender nada? ğŸ‘€</h2>
    <button class="yes" onclick="animalYes('${f}')">Buenoâ€¦ estÃ¡ bien</button>`;
  }
}

function animalYes(t){
  const c=document.getElementById("card");
  c.innerHTML=`<p>${t}</p>`;
  setTimeout(next,3800);
}

/* ---------- VALOR ---------- */
function worth(c,q,msg){
  c.innerHTML=`<h2>${q}</h2>
  <button class="yes" onclick="showText(msg)">SÃ­</button>
  <button class="no" onclick="moveNo()">No</button>`;
}

function moveNo(){
  noCount++;
  const n=document.querySelector(".no");
  if(noCount>=4){
    n.remove();
    document.querySelector(".yes").style.transform="scale(1.2)";
  }
